{"version":3,"file":"app/javascripts/build/collections.js","sources":["app/javascripts/build/collections.js","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/4"],"names":[],"mappings":"AAAA;ACAI,CAAJ,EAAI,sBDAJ,SAAM,oBAAmB,CAEX,OAAO,CAAE;AACnB,CAAA,KAAI,MAAM,EAAI,WAAU,CAAC;AACzB,CAAA,KAAI,OAAO,EAAG,CAAA,OAAO,OAAO,CAAC;CCJQ,ADKtC,CCLsC;ACAzC,CAAA,AAAC,eAAe,YAAY,CAAC;CFO3B,cAAa,CAAb,UAAc,CAAE;CACd,SAAO;AACL,CAAA,SAAI,GAAE,SAAU,EAAA,CAAA,IAAI,OAAO,EAAA,aAAY,CAAA;AACvC,CAAA,WAAM,CAAE;AACN,CAAA,YAAK,CAAE,IAAG;AACV,CAAA,aAAM,CAAE,EAAC;CAAA,MACV;CAAA,IACF,CAAA;GACF;CAED,MAAK,CAAL,UAAM,OAAO,CAAE;AACT,CAAJ,MAAI,CAAA,OAAO,EAAG,CAAA,OAAO,QAAQ,GAAI,CAAA,IAAI,cAAc,EAAE;AACjD,CAAA,aAAM,EAAI,CAAA,OAAO,OAAO;AACxB,CAAA,cAAO,EAAG,CAAA,OAAO,QAAQ;AACzB,CAAA,iBAAU,EAAG,CAAA,OAAO,WAAW,GAAI,GAAE,CAAC;AAE1C,CAAA,KAAE,IAAI,CAAC,OAAO,KAAK,CAAE;AAAC,CAAA,YAAO,CAAE,CAAA,MAAM,MAAM;AAAE,CAAA,aAAQ,CAAE,CAAA,MAAM,OAAO;CAAA,IAAE,CACpE,CAAA,CAAC,KAAK,CAAC,SAAS,IAAI,CAAC;AACnB,CAAA,eAAU,EAAG,CAAA,UAAU,OAAO,CAAC,IAAI,CAAC,CAAC;CACrC,SAAI,IAAI,OAAO,IAAK,EAAC,CAAE;AACrB,CAAA,cAAO,CAAC,UAAU,CAAC,CAAC;CACpB,aAAO,CAAA,IAAI,MAAM,CAAC,UAAU,CAAC,CAAC;OAC/B,KAAM;AACL,CAAA,aAAM,OAAO,GAAI,CAAA,IAAI,OAAO,CAAC;AAC7B,CAAA,WAAI,MAAM,CAAC;AACT,CAAA,gBAAO,CAAK,QAAO;AACnB,CAAA,mBAAU,CAAE,WAAU;AACtB,CAAA,gBAAO,CAAK,QAAO;CAAA,QACpB,CAAC,CAAC;OACJ;CAAA,IACF,CAAE,KAAI,CAAC,CACT,CAAC;GACH;CAED,MAAK,CAAL,UAAM,UAAU,CAAE;AAChB,CAAA,QAAK,gBAAgB,CACnB,MAAM,CAAC,CAAC,IAAI,CAAE,WAAU,CAAC,CAAC,CAC1B,CAAA,QAAQ,eAAe,CAAC,aAAa,CAAC,CACvC,CAAA;GACF;CAAA,KA9C+B,CAAA,QAAQ,WAAW,CECI;CF+CxD","sourcesContent":["class FavoritesCollection extends Backbone.Collection {\n  \n  constructor(options) {\n    this.model  = TrackModel;\n    this.userId = options.userId;\n  }\n\n  defaultParams() {\n    return {\n      path: `/users/${this.userId}/favorites`,\n      params: { \n        limit: 200, \n        offset: 0 \n      }\n    }\n  }\n\n  fetch(options) {\n    var request = options.request || this.defaultParams(),\n        params  = request.params,\n        success = options.success,\n        collection = options.collection || [];\n\n    SC.get(request.path, {'limit': params.limit, 'offset': params.offset },\n      _.bind(function(data){\n        collection = collection.concat(data);\n        if (data.length === 0) {\n          success(collection);\n          return this.parse(collection);\n        } else {\n          params.offset += data.length;\n          this.fetch({\n            request:    request, \n            collection: collection, \n            success:    success\n          });\n        }\n      }, this)\n    );\n  }\n\n  parse(collection) {\n    React.renderComponent(\n      Tracks({data: collection}),\n      document.getElementById('tracks-wrap')\n    )\n  }\n\n}","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)"]}